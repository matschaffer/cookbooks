<% if @external %>
define serviceescalation {
  hostgroups external
  service_description *
  contact_groups <%=node[:nagios][:default_contact_groups].join(",")%>
  notification_interval 600
  first_notification 4
  last_notification 0
}

define hostescalation {
  hostgroups external
  contact_groups <%=node[:nagios][:default_contact_groups].join(",")%>
  notification_interval 600
  first_notification 4
  last_notification 0
}
<% end %>

define serviceescalation {
  hostgroups all,!external,!routers
  service_description *
  contact_groups <%=node[:nagios][:default_contact_groups].join(",")%>
  notification_interval 0
  first_notification 4
  last_notification 0
}

define hostescalation {
  hostgroups all,!external
  contact_groups <%=node[:nagios][:default_contact_groups].join(",")%>
  notification_interval 0
  first_notification 4
  last_notification 0
}
